(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(39)},27:function(e,t,a){},29:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),s=a.n(c),l=(a(27),a(4)),o=a(5),i=a(12),u=a(6),m=a(13),d=a(11),h=a(9),p=(a(29),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-12 pb-4 pl-lg-0"},r.a.createElement("div",{className:"d-flex lhp-72 animated faster fadeIn"},r.a.createElement("div",{className:"border-bottom border-red boder-blue w-100 d-flex",style:{marginBottom:"6px",height:"66px"}},r.a.createElement("span",{className:"position-relative mt-3 pr-05"},r.a.createElement("svg",{width:"25px",height:"25px",viewBox:"0 0 25 25"},r.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{transform:"translate(-1080.000000, -61.000000)"},r.a.createElement("g",{transform:"translate(750.000000, 51.000000)"},r.a.createElement("g",{transform:"translate(327.000000, 7.000000)"},r.a.createElement("g",{fill:"#2A2929"},r.a.createElement("path",{d:"M5.04441966,11.1611514 C5.04441966,7.78709826 7.76953815,5.05194665 11.1312146,5.05194665 C14.492891,5.05194665 17.2180095,7.78709826 17.2180095,11.1611514 C17.2180095,14.5352046 14.492891,17.2703562 11.1312146,17.2703562 C7.76953815,17.2703562 5.04441966,14.5352046 5.04441966,11.1611514 L5.04441966,11.1611514 Z M22,20.5490872 L17.5872131,16.1199603 C18.6370226,14.7453426 19.2624291,13.0270238 19.2624291,11.1611514 C19.2624291,6.65386409 15.6219682,3 11.1312146,3 C6.64046092,3 3,6.65386409 3,11.1611514 C3,15.6684388 6.64046092,19.3223029 11.1312146,19.3223029 C13.025927,19.3223029 14.7681442,18.67053 16.1505436,17.5799204 L20.5544094,22 L22,20.5490872 Z"})))))))),r.a.createElement("form",{className:"w-100"},r.a.createElement("input",{name:"searchInput","aria-label":"movie-search",autoComplete:"off",type:"text",onKeyUp:function(t){return e.keyPress(t)},className:"border-top-0 border-bottom-0 border-right-0 fsp-16 w-100 my-2 border-left-0",placeholder:"Search movies (type in at least 3 charachtres)",style:{lineHeight:"2.5"}})),e.isLoading&&r.a.createElement("div",{className:"load-bar",style:{width:"calc(100% - 32px)",top:"65px"}},r.a.createElement("div",{className:"bar"}),r.a.createElement("div",{className:"bar"}))))))}),f=function(e){var t=e.linksList,a=(e.term,e.noResults),n=e.addToWatchList;return r.a.createElement("div",{className:"search-results bg-white w-100 mx--3 border-bottom px-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 d-flex mb-3"},r.a.createElement("div",{className:"col-2 pl-0 font-weight-bold"},"Cover"),r.a.createElement("div",{className:"col-4 pl-0 font-weight-bold"},"Title"),r.a.createElement("div",{className:"col-2 pl-0 font-weight-bold"},"Year"),r.a.createElement("div",{className:"col-2 col-lg-1 pl-0 font-weight-bold"},"Rate"),r.a.createElement("div",{className:"col-2 pl-0 font-weight-bold"},"Lang")),r.a.createElement("div",{className:"col-12 mt-4 pt-05 mb-6 fsp-16 pl-0"},t&&t.map(function(e,t){return r.a.createElement("div",{className:"col-12 d-flex mb-3 pl-0 align-items-center",key:t},r.a.createElement("div",{className:"col-2 p-0 movie-image ".concat(e.backdrop_path?"":"no-img bg-secondary")},e.backdrop_path&&r.a.createElement("img",{className:"w-100",src:"https://image.tmdb.org/t/p/w200".concat(e.backdrop_path),alt:e.title})),r.a.createElement("div",{key:t,className:"col-4 d-block py-2"},e.title),r.a.createElement("div",{className:"col-2"},e.release_date.substr(0,4)),r.a.createElement("div",{className:"col-2 col-lg-1"},e.vote_average,"%"),r.a.createElement("div",{className:"col-2"},e.original_language),r.a.createElement("div",{className:"col-1",onClick:function(){return n()}},"add"))}),a&&r.a.createElement("span",{className:"d-block pt-2 text-medium-grey-2 text-center"},"Sorry no results"))))},v=a(2),g=a.n(v),b=a(7),E=function(e,t){return fetch(e,{method:t,headers:new Headers({authorization:"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlMTk0ZGI0YzI4NWRkMThjMTJmNjVhOTU3M2NlZDNjYSIsInN1YiI6IjVkMWQ5ZGQ2OTRkOGE4MjkzYjNlMzFlNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.S3jn-WLni_jh9632uXs8GZVzS40KoL9x1uyfq3ycotY","Content-Type":"application/json"}),credentials:"same-origin"}).then(function(e){return e&&e.json()}).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})},y=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fetch(e,{method:t,headers:new Headers({Authorization:"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlMTk0ZGI0YzI4NWRkMThjMTJmNjVhOTU3M2NlZDNjYSIsInN1YiI6IjVkMWQ5ZGQ2OTRkOGE4MjkzYjNlMzFlNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.S3jn-WLni_jh9632uXs8GZVzS40KoL9x1uyfq3ycotY","Content-Type":"application/json"}),body:JSON.stringify(a),credentials:"same-origin"}).then(function(e){return e&&e.json()}).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})},N=function(e,t){var a="".concat("https://api.themoviedb.org/4").concat(e,"?api_key=").concat("e194db4c285dd18c12f65a9573ced3ca","&language=en-US");return t&&Object.keys(t).forEach(function(e){return a+="&".concat(e,"=").concat(t[e])}),a},k=function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.page,n=t.term,r=N("/search/movie",{page:a,query:n}),e.abrupt("return",E(r));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("".concat("https://api.themoviedb.org/4","/auth/request_token"),"POST");case 2:return t=e.sent,window.open("https://www.themoviedb.org/auth/access?request_token=".concat(t.request_token)),e.abrupt("return",t.request_token);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(b.a)(g.a.mark(function e(t){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("".concat("https://api.themoviedb.org/4","/auth/access_token"),"POST",{request_token:t});case 2:return a=e.sent,e.abrupt("return",E("https://api.themoviedb.org/3/account/".concat(a.account_id,"/watchlist?api_key=").concat("e194db4c285dd18c12f65a9573ced3ca")));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={linksList:null,noResults:null,isLoading:!1,resultsError:null},a.keyPress=function(e){a.timer&&clearTimeout(a.timer);var t=a.genSearchFn(e.target.value);a.timer=a.term.length>2?setTimeout(t,300):a.setState({linksList:null})},a.addToWatchList=function(){j(a.state.requestToken).then(function(e){return console.log(e)})},a.genSearchFn=function(e){var t=encodeURI(e);return a.term=e,a.setState({isLoading:!0}),function(){k({page:1,term:t}).then(function(e){a.clearSearch(),e.results&&a.setState({linksList:e.results,noResults:!1}),e.results&&e.results.length<1&&a.setState({noResults:!0})}).catch(function(){a.setState({resultsError:{img:a.props.errorImg,title:a.props.errorTitle,subTitle:a.props.errorMsg},isLoading:!1})})}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"clearSearch",value:function(){this.setState({linksList:null,noResults:null,isLoading:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("section",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 pt-4"},!this.props.requestKey&&r.a.createElement("button",{onClick:function(){return w().then(function(t){return e.props.setRequestKey(t)})},className:"btn btn-primary"}," Please login "))),this.props.requestKey&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement(p,Object.assign({},this.props,{data:this.props.data,keyPress:function(t){return e.keyPress(t)},isLoading:this.state.isLoading,cancel:function(){return e.clearSearch()}}))),r.a.createElement("div",{className:"row"},this.state.linksList&&r.a.createElement(f,{term:this.term,linksList:this.state.linksList,addToWatchList:this.addToWatchList,noResults:this.state.noResults})))))}}]),t}(n.Component),x=function(){return r.a.createElement("div",{className:"d-flex flex-column flex-lg-row align-items-center py-3"},r.a.createElement("h2",{className:"mb-4"},"Expense check"),r.a.createElement("ul",{className:"list-unstyled ml-4"},r.a.createElement("li",{className:"float-left mr-4"},r.a.createElement(d.b,{to:"/"},"Home")),r.a.createElement("li",{className:"float-left"},r.a.createElement(d.b,{to:"/watchList"},"Watch list"))))},O=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("h3",null,"Watch list")))},I=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={requestKey:""},a.setRequestKey=function(e){return a.setState({requestKey:e})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(x,null)),r.a.createElement("div",{className:"router"},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(L,Object.assign({},t,{requestKey:e.state.requestKey,setRequestKey:e.setRequestKey}))}}),r.a.createElement(h.a,{path:"/watchList",render:function(e){return r.a.createElement(O,e)}}),"/>",r.a.createElement(h.a,{render:function(e){return r.a.createElement("h1",null,"not found")}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(37);s.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.66cc936d.chunk.js.map